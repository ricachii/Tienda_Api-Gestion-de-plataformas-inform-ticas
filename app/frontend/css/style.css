/* Estilos (colores, layout, modales) */

:root{
  --bg:#f7f7fb;--card:#fff;--prim:#4f46e5;--prim-2:#6366f1;--bd:#e5e7eb;
  --ok:#16a34a;--err:#b91c1c;--txt:#111;--muted:#666;--chip:#eef2ff;
  --ink:#0f172a;--warn:#d97706;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{margin:0;background:var(--bg);font-family:Inter,system-ui,Arial,sans-serif;color:var(--txt);-webkit-font-smoothing:antialiased}

/* Header / toolbar */
header{position:sticky;top:0;background:var(--card);border-bottom:1px solid var(--bd);
  padding:12px 16px;display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between;z-index:20}
.brand{display:flex;align-items:center;gap:8px}
.brand h1{font-size:1.05rem;margin:0;white-space:nowrap}
.toolbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap;min-width:240px}
input,select,button{border:1px solid var(--bd);border-radius:10px;padding:9px 12px;font-size:1rem}
input[type="search"]{min-width:220px}
button{cursor:pointer;background:var(--prim);color:#fff;border:none}
button:hover{background:var(--prim-2)}
button.ghost{background:#fff;color:#111;border:1px solid var(--bd)}
button.warn{background:var(--warn)}
button:disabled{opacity:.55;cursor:not-allowed}
a.link{background:var(--chip);color:var(--prim);border:1px solid #dbe3ff;text-decoration:none;border-radius:10px;padding:9px 12px}
.badge{display:inline-grid;place-items:center;min-width:20px;height:20px;font-size:.75rem;color:#fff;background:#ef4444;border-radius:999px;padding:0 6px;line-height:1}
.cart-pill{display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid var(--bd);background:#fff}
.muted{color:var(--muted);font-size:.9rem}

/* Layout */
main{max-width:1260px;margin:18px auto;display:grid;grid-template-columns:1fr 380px;gap:22px;padding:0 16px}
@media(max-width:1000px){main{grid-template-columns:1fr}}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
footer{text-align:center;margin:28px 0;color:var(--muted);font-size:.9rem}

/* Product card */
.card{background:var(--card);border-radius:16px;overflow:hidden;box-shadow:0 2px 6px rgba(0,0,0,.06);
  display:flex;flex-direction:column;transition:transform .15s}
.card:hover{transform:translateY(-3px)}
.cnt{padding:14px}
.cat{font-size:.78rem;background:var(--chip);color:var(--prim);padding:3px 10px;border-radius:20px;width:max-content;margin-bottom:6px}
.name{font-weight:700;font-size:1.05rem;margin:4px 0;color:var(--ink)}
.desc{color:var(--muted);font-size:.9rem;min-height:34px}
.price{font-weight:800;margin:8px 0 4px;font-size:1rem}
.row{display:flex;align-items:center;gap:6px;margin-top:8px;flex-wrap:wrap}
.qtybtn{background:var(--prim);color:#fff;min-width:36px;height:36px;border-radius:10px;border:none;font-size:1.1rem;display:grid;place-items:center}
.qty{width:68px;text-align:center;padding:8px;border-radius:10px;border:1px solid var(--bd)}
.addbtn{flex:1;background:var(--prim);color:#fff;border:none;border-radius:10px;padding:10px;font-weight:700}
.addbtn:hover{background:var(--prim-2)}
.stock{font-size:.85rem;color:var(--muted);margin-top:6px}

/* Aside cart */
aside{background:var(--card);border-radius:16px;padding:14px;box-shadow:0 2px 6px rgba(0,0,0,.06);position:sticky;top:76px;height:max-content}
.cart-empty{color:var(--muted)}
.carrito-item{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center;border-bottom:1px solid var(--bd);padding:8px 0}
.carrito-qty{display:flex;gap:6px;align-items:center}
.tot{display:flex;justify-content:space-between;font-weight:800;margin-top:12px}
.subt{display:flex;justify-content:space-between;margin-top:8px}
.foot-actions{display:flex;gap:8px;margin-top:10px}

/* Loading / alerts */
.alert{position:fixed;top:16px;right:16px;background:#fff;border:1px solid var(--bd);padding:10px 14px;
  border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.12);animation:fade 2.4s forwards;max-width:70vw}
@keyframes fade{0%{opacity:1}80%{opacity:1}100%{opacity:0}}
.toolbar-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.load-skel{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
.load-card{background:var(--card);border-radius:16px;overflow:hidden;height:330px;border:1px solid var(--bd)}
.sr-only{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}

/* Modales */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:16px;z-index:50}
.modal{background:#fff;border-radius:16px;max-width:640px;width:100%;box-shadow:0 15px 40px rgba(0,0,0,.25);overflow:hidden}
.modal header{position:relative;top:auto;background:#fff;border-bottom:1px solid var(--bd);padding:14px 16px}
.modal .content{padding:16px}
.modal .actions{display:flex;gap:8px;justify-content:flex-end;padding:12px 16px;border-top:1px solid var(--bd);background:#fafafa}
.x{appearance:none;background:#fff;border:1px solid var(--bd);width:36px;height:36px;border-radius:10px;cursor:pointer}
.x:hover{background:#f3f4f6}
.receipt{background:#fafafa;border:1px dashed var(--bd);padding:12px;border-radius:12px}
.receipt h4{margin:0 0 8px 0}
.receipt .rline{display:flex;justify-content:space-between;margin:6px 0}
.field{display:flex;flex-direction:column;gap:6px}
.field input{width:100%}
.errtxt{color:var(--err);font-size:.9rem}
.oktxt{color:var(--ok)}
@media (prefers-reduced-motion: reduce){
  html{scroll-behavior:auto}
  .card{transition:none}
}

.card img {
  width: 100%;
  height: 200px;              /* 游댢 altura controlada */
  object-fit: contain;        /* mantiene proporci칩n natural */
  display: block;
  background: #f9fafb;        /* fondo neutro detr치s de im치genes transparentes */
  padding: 10px;              /* deja un margen interior */
  border-radius: 10px;        /* bordes suaves */
}
.imgwrap {
  display: flex;
  justify-content: center;
  align-items: center;
  background: #fff;
  height: 220px;              /* contenedor fijo */
  overflow: hidden;
}
body.offline::before{
  content:"Sin conexi칩n. Algunas acciones pueden fallar.";
  position:fixed;left:0;right:0;top:0;z-index:60;
  background:#fee2e2;color:#991b1b;padding:6px 12px;text-align:center;
  font-size:.9rem;border-bottom:1px solid #fecaca;
}
